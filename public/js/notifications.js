!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=164)}({164:function(e,n,t){e.exports=t(165)},165:function(e,n,t){window.sendMessage=function(e){axios.post("/test-notification",{device_id:e}).then(function(e){})},t(166)},166:function(e,n){"serviceWorker"in navigator&&navigator.serviceWorker.register("../firebase-messaging-sw.js").then(function(e){console.log("Service Worker Registered"),t.useServiceWorker(e)});firebase.initializeApp({apiKey:"AIzaSyBAF_AzwIMrsu9vQUJDyKPQXcoEhA3AXM4",authDomain:"continual-math-237308.firebaseapp.com",databaseURL:"https://continual-math-237308.firebaseio.com",projectId:"continual-math-237308",storageBucket:"continual-math-237308.appspot.com",messagingSenderId:"142675662070",appId:"1:142675662070:web:1d5d57e22e6fb4bb8948d7",measurementId:"G-QDXE372DS5"});var t=firebase.messaging();t.requestPermission().then(function(){return console.log("Notification permission granted."),t.getToken()}).then(function(e){window.sendMessage(e)}).catch(function(e){console.log("Unable to get permission to notify.",e)}),t.onMessage(function(e){(console.log("PERMISSION",Notification.permission),"granted"==Notification.permission)&&(new Notification(e.notification.title,{body:e.notification.body,icon:e.notification.icon,tag:"Dummy"}),console.log(e.notification))});var o=firebase.database().ref().child("/users/");o.on("value",function(e){renderUI(e.val())}),o.on("child_added",function(e){if(console.log("PERMISSION",Notification.permission),"default"!==Notification.permission);else alert("Please allow the notification first")}),self.addEventListener("notificationclick",function(e){e.notification.close()})}});